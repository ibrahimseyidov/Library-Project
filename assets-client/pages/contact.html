<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style/reset.css" />
    <link rel="stylesheet" href="../style/contact.css" />
    <link rel="stylesheet" href="../mobile-style/contact.css" />
    <link rel="stylesheet" href="../style/style.css" />
    <link rel="stylesheet" href="../mobile-style/mobile.css" />
    <link rel="stylesheet" href="../style/intlTelInput.css" />
    <link rel="stylesheet" href="../style/toast.style.css" />
    <title>Contact</title>
  </head>

  <body>
    <header class="header">
      <div class="header-container">
        <div>
          <a href="../../index.html"
            ><img src="../img/topLogo.svg" alt="logo"
          /></a>
        </div>

        <div class="top-nav">
          <nav>
            <ul class="home-nav">
              <li><a href="../../index.html">Home</a></li>
              <li><a href="./catalog-product.html">Catalog</a></li>
              <li><a href="./about.html">About Store</a></li>
              <li><a href="./contact.html" class="active">Contact Us</a></li>
              <li><a href="./search.html">Search</a></li>
            </ul>
          </nav>
        </div>

        <div class="join-us">
          <img src="../icons/profile.svg" alt="profile" />
          <a id="myBtn">Join Us</a>
        </div>

        <div class="mobile-ham">
          <button class="join-img" id="myBtnMobile">
            <img src="../icons/profile.svg" alt="profile" />
          </button>
          <button onclick="openNav()">
            <img src="../icons/hamMenu.svg" alt="hamburger-menu" />
          </button>
        </div>
      </div>

      <div id="myNav" class="overlay">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
          >&times;</a
        >

        <div class="overlay-content">
          <a href="../../index.html">Home</a>
          <a href="./catalog-product.html">Catalog</a>
          <a href="./about.html">About Store</a>
          <a href="./contact.html">Contact Us</a>
          <a href="./search.html">Search</a>
        </div>
      </div>

      <div id="myModal" class="modal">
        <div class="modal-content">
          <span class="close"></span>

          <div class="join-modal">
            <span>Join Us</span>
            <div class="join-inp">
              <input type="text" placeholder="Full name" />
              <input type="email" placeholder="Email" />
            </div>
            <div class="join-btn">
              <button>Join</button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="contain">
      <main class="mainContact">
        <div class="contactText">
          <h1>Contact Us</h1>
        </div>
        <div class="inputArea">
          <div class="firstInputSection">
            <input type="text" id="fName" placeholder="Full name" />
            <input type="text" id="address" placeholder="Address" />
          </div>
          <div class="secondInputSection">
            <div>
              <input type="email" id="email" placeholder="Email" />
            </div>
            <div class="phone-inp">
              <input type="number" id="telephone" placeholder="" />
            </div>
          </div>
        </div>
        <div class="MessageArea">
          <textarea 
          class="text-area-3"
            id="message"
            rows="5"
            placeholder="Message"
          ></textarea>
        </div>
        <div class="divButton">
          <button id="sendBtn">Send</button>
        </div>
      </main>
      <div class="social-bar">
        <section class="five-sec">
          <div class="follow">
            <h3>Follow us on social media</h3>
          </div>

          <div class="media-icon">
            <a href="https://www.facebook.com/" target="_blank"
              ><img src="../icons/facebook.svg" alt="facebook"
            /></a>
            <a href="https://twitter.com/" class="twitter" target="_blank"
              ><img src="../icons/twitter.svg" alt="twitter"
            /></a>
            <a href="https://www.instagram.com/" target="_blank"
              ><img src="../icons/instagram.svg" alt="instagram"
            /></a>
          </div>
        </section>
      </div>
    </div>
    <footer class="footer-sec">
      <div class="contain">
        <div class="footer-area">
          <div class="bottom-logo">
            <img src="../img/bottomLogo.svg" alt="logo" />
          </div>

          <div class="footer-right">
            <div class="footer-nav">
              <h3>Popular</h3>
              <ul>
                <li><a href="#">Programming</a></li>
                <li><a href="#">Books for children</a></li>
                <li><a href="#">Psychology</a></li>
                <li><a href="#">Business</a></li>
              </ul>
            </div>

            <div class="footer-nav">
              <h3>Cash</h3>
              <ul>
                <li><a href="#">Delivery</a></li>
                <li><a href="#">Payment</a></li>
                <li><a href="#">About the store</a></li>
              </ul>
            </div>

            <div class="footer-nav" style="margin-right: 0">
              <h3>Help</h3>
              <ul>
                <li><a href="#">Contacts</a></li>
                <li><a href="#">Purchase returns</a></li>
                <li><a href="#">Buyer help</a></li>
              </ul>
            </div>
          </div>
        </div>

        <div class="copyright">
          <p>
            All rights reserved Â© 2003-2021 LIBRARY TERMS OF USE | Privacy
            Policy
          </p>
        </div>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../js/hamburger.js"></script>
    <script src="../js/intlTelInput.min.js"></script>
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="../js/intlTelInput-jquery.min.js"></script>
    <script src="../js/data.min.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/inputPhone.js"></script>
    <script src="../js/modal.js"></script>
    <script src="../js/toast.script.js"></script>
    <script src="../js/jquery-simple-txt-counter.min.js"></script>
    <script src="../js/inputCounter.js"></script>
   
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
      import {
        getDatabase,
        get,
        set,
        ref,
        child,
        push,
      } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBIwPUrIeIwVhdFOO24FP37qBLiHeLIsRw",
        authDomain: "library-project-3c5d6.firebaseapp.com",
        databaseURL:
          "https://library-project-3c5d6-default-rtdb.firebaseio.com",
        projectId: "library-project-3c5d6",
        storageBucket: "library-project-3c5d6.appspot.com",
        messagingSenderId: "294284130679",
        appId: "1:294284130679:web:51ed25900557833811c972",
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      const sendBtn = document.querySelector("#sendBtn");
      const fName = document.querySelector("#fName");
      const address = document.querySelector("#address");
      const email = document.querySelector("#email");
      const number = document.querySelector("#telephone");
      const message = document.querySelector("#message");

      function sendContactInfoToDb() {
        let fNameVal = fName.value;
        let addressVal = address.value;
        let emailVal = email.value;
        let numberVal = number.value;
        let messageVal = message.value;

        console.log(fNameVal);
        console.log(addressVal);
        console.log(emailVal);
        console.log(numberVal);
        console.log(messageVal);

        if (fNameVal && addressVal && emailVal && numberVal && messageVal) {
          push(ref(db, "contact-info"), {
            fullName: fNameVal,
            address: addressVal,
            email: emailVal,
            number: numberVal,
            message: messageVal,
          })
            .then(() => {
              $.Toast(
                "Successful",
                "Data Sended With Successfully",
                "success",
                {
                  position_class: "toast-top-right",
                  timeout: 4000,
                  has_progress: true,
                  width: 300,
                }
              );
            })
            .catch(() => {
              $.Toast("Warning", "Oop! Data Could Not Send", "success", {
                position_class: "toast-top-right",
                timeout: 4000,
                has_progress: true,
                width: 300,
              });
            });

          fName.value = "";
          address.value = "";
          email.value = "";
          number.value = "";
          message.value="";

        } else {
          $.Toast("Unsuccessful", "Message Could Not Send!", "error", {
            position_class: "toast-top-right",
            timeout: 4000,
            has_progress: true,
            width: 300,
          });

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getDatabase, get, set, ref, child, push } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";


        const firebaseConfig = {
            apiKey: "AIzaSyBIwPUrIeIwVhdFOO24FP37qBLiHeLIsRw",
            authDomain: "library-project-3c5d6.firebaseapp.com",
            databaseURL: "https://library-project-3c5d6-default-rtdb.firebaseio.com",
            projectId: "library-project-3c5d6",
            storageBucket: "library-project-3c5d6.appspot.com",
            messagingSenderId: "294284130679",
            appId: "1:294284130679:web:51ed25900557833811c972"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        const sendBtn = document.querySelector("#sendBtn");
        const fName = document.querySelector("#fName");
        const address = document.querySelector("#address");
        const email = document.querySelector("#email");
        const number = document.querySelector("#telephone");

        function sendContactInfoToDb() {

            let fNameVal = fName.value;
            let addressVal = address.value;
            let emailVal = email.value;
            let numberVal = number.value;

            console.log(fNameVal);
            console.log(addressVal);
            console.log(emailVal);
            console.log(numberVal);

            if (fNameVal && addressVal && emailVal && numberVal) {
                push(ref(db, "contact-info"), {
                    fullName: fNameVal,
                    address: addressVal,
                    email: emailVal,
                    number: numberVal,
                })
                    .then(() => {
                        $.Toast("Successful", "Data Sended With Successfully", "success", {
                            position_class: 'toast-top-right',
                            timeout: 4000,
                            has_progress: true,
                            width: 300
                        })
                    })
                    .catch(() => {
                        $.Toast("Warning", "Oop! Data Could Not Send", "warning", {
                            position_class: 'toast-top-right',
                            timeout: 4000,
                            has_progress: true,
                            width: 300
                        })
                    })

                    fName.value = "";
                    address.value = "";
                    email.value = "";
                    number.value = "";


            } else {
                $.Toast("Unsuccessful", "Message Could Not Send!", "error", {
                    position_class: 'toast-top-right',
                    timeout: 4000,
                    has_progress: true,
                    width: 300
                })
            }


        }
      }

      sendBtn.addEventListener("click", sendContactInfoToDb);
    </script>
  </body>
</html>
